<div *ngIf="eruptBuildModel!=null">
    <nz-spin [nzSpinning]="loading">
        <erupt-edit-type [loading]="loading" #eruptEdit [eruptBuildModel]="eruptBuildModel"
                         [mode]="behavior=='add'?'addNew':null"></erupt-edit-type>
    </nz-spin>
    <nz-tabset *ngIf="eruptBuildModel.tabErupts">
        <ng-container *ngFor="let item of eruptBuildModel.tabErupts | keyvalue">
            <nz-tab [nzTitle]="eruptFieldModelMap.get(item.key).eruptFieldJson.edit.title">
                <ng-container [ngSwitch]="eruptFieldModelMap.get(item.key).eruptFieldJson.edit.type">
                    <ng-container *ngSwitchCase="editType.TAB_TABLE_ADD">
                        <tab-table
                                [tabErupt]="{eruptBuildModel:item.value,eruptFieldModel:eruptFieldModelMap.get(item.key)}"
                                [eruptBuildModel]="eruptBuildModel" [behavior]="behavior"></tab-table>
                    </ng-container>
                    <ng-container *ngSwitchCase="editType.TAB_TABLE_REFER">
                        <ng-container *ngIf="eruptBuildModel.eruptModel.eruptJson.power.add">
                            <tab-table
                                    [tabErupt]="{eruptBuildModel:item.value,eruptFieldModel:eruptFieldModelMap.get(item.key)}"
                                    [eruptBuildModel]="eruptBuildModel" [behavior]="behavior" [mode]="'refer-add'">

                            </tab-table>
                        </ng-container>
                    </ng-container>
                    <ng-container *ngSwitchCase="editType.TAB_TREE">
                        <erupt-tab-tree
                                [eruptFieldModel]="eruptFieldModelMap.get(item.key)"
                                [eruptBuildModel]="eruptBuildModel"
                        ></erupt-tab-tree>
                    </ng-container>
                </ng-container>
            </nz-tab>
        </ng-container>
    </nz-tabset>
</div>
