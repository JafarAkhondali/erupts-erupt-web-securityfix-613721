<div *ngIf="eruptBuildModel!=null">
    <nz-spin [nzSpinning]="loading">
        <erupt-edit-type [eruptModel]="eruptBuildModel.eruptModel"></erupt-edit-type>

        <ng-container *ngIf="eruptBuildModel.combineErupts&&eruptBuildModel.combineErupts.length>0">
            <nz-collapse nzAccordion *ngFor="let combine of eruptBuildModel.combineErupts" style="margin-bottom: 10px;">
                <nz-collapse-panel [nzActive]="true" [nzDisabled]="combine.eruptFieldModel.eruptFieldJson.edit.readOnly"
                                   [nzHeader]="combine.eruptFieldModel.eruptFieldJson.edit.title">
                    <erupt-edit-type [eruptModel]="combine.eruptModel"></erupt-edit-type>
                </nz-collapse-panel>
            </nz-collapse>
        </ng-container>
    </nz-spin>
    <nz-tabset *ngIf="eruptBuildModel.subErupts.length>0">
        <ng-container *ngFor="let sub of eruptBuildModel.subErupts">
            <nz-tab [nzTitle]="sub.eruptFieldModel.eruptFieldJson.edit.title">
                <ng-container [ngSwitch]="sub.eruptFieldModel.eruptFieldJson.edit.tabType.type">
                    <ng-container *ngSwitchCase="tabEnum.TABLE">
                        <tab-table [tabErupt]="sub" [eruptModel]="eruptBuildModel.eruptModel" [behavior]="behavior"></tab-table>
                    </ng-container>
                    <ng-container *ngSwitchCase="tabEnum.TREE">
                        <nz-input-group [nzSuffix]="suffixIcon" class="mb-sm" style="width: 100%;">
                            <input type="text" nz-input placeholder="Search" [(ngModel)]="sub.eruptFieldModel.eruptFieldJson.edit.$tempValue">
                        </nz-input-group>
                        <ng-template #suffixIcon>
                            <i nz-icon type="search"></i>
                        </ng-template>
                        <br>
                        <nz-tree [nzCheckable]="true"
                                 [nzShowLine]="true"
                                 [nzCheckStrictly]="true"
                                 [nzData]="sub.eruptFieldModel.eruptFieldJson.edit.$viewValue"
                                 (nzCheckBoxChange)="checkBoxChange($event,sub)"
                                 [nzSearchValue]="sub.eruptFieldModel.eruptFieldJson.edit.$tempValue"
                                 [nzCheckedKeys]="sub.eruptFieldModel.eruptFieldJson.edit.$value">
                        </nz-tree>
                    </ng-container>
                </ng-container>
            </nz-tab>
        </ng-container>
    </nz-tabset>
</div>
